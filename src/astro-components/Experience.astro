---
import { getCollection } from "astro:content";
import ExperienceCard from "./ExperienceCard.astro";
import SectionWrapper from "./SectionWrapper.astro";

const experiences = await getCollection("experiences");
---

<SectionWrapper sectionName="Experience">
  <ul class="timeline timeline-vertical timeline-compact timeline-snap-icon">
    {
      experiences
        .sort(
          (a, b) =>
            new Date(b.data.startDate).getTime() -
            new Date(a.data.startDate).getTime()
        )
        .map((item, i) => <ExperienceCard data={item.data} />)
    }
  </ul>
</SectionWrapper>
